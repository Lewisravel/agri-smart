{% extends "base.html" %}
{% load i18n %}

{% block title %}{% trans "Prévisions de rendement" %} - Agri Smart{% endblock %}

{% block content %}
<div class="row">
    <div class="col-md-8 mx-auto">
        <div class="card">
            <div class="card-header bg-success text-white">
                <h4 class="mb-0">
                    <i class="fas fa-chart-line"></i> {% trans "Prévisions de rendement" %}
                </h4>
            </div>
            <div class="card-body">
                <form method="post">
                    {% csrf_token %}
                    
                    <div class="mb-3">
                        <label class="form-label">
                            <i class="fas fa-seedling"></i> {% trans "Culture" %}
                        </label>
                        <select name="crop" class="form-select" required>
                            <option value="">{% trans "Sélectionner une culture..." %}</option>
                            {% for crop in crops %}
                            <option value="{{ crop.name_fr }}">{{ crop.name_fr }}</option>
                            {% endfor %}
                        </select>
                    </div>
                    
                    <div class="row">
                        <div class="col-md-6 mb-3">
                            <label class="form-label">
                                <i class="fas fa-map-marked-alt"></i> {% trans "Superficie (hectares)" %}
                            </label>
                            <input type="number" name="area_hectares" class="form-control" 
                                   step="0.1" required placeholder="2.5">
                        </div>
                        
                        <div class="col-md-6 mb-3">
                            <label class="form-label">
                                <i class="fas fa-temperature-high"></i> {% trans "Température moyenne (°C)" %}
                            </label>
                            <input type="number" name="temperature" class="form-control" 
                                   step="0.1" required placeholder="27">
                        </div>
                    </div>
                    
                    <div class="row">
                        <div class="col-md-6 mb-3">
                            <label class="form-label">
                                <i class="fas fa-cloud-rain"></i> {% trans "Précipitations (mm)" %}
                            </label>
                            <input type="number" name="rainfall" class="form-control" 
                                   required placeholder="900">
                        </div>
                        
                        <div class="col-md-6 mb-3">
                            <label class="form-label">
                                <i class="fas fa-vial"></i> {% trans "pH du sol" %}
                            </label>
                            <input type="number" name="soil_ph" class="form-control" 
                                   step="0.1" required placeholder="6.2">
                        </div>
                    </div>
                    
                    <div class="row">
                        <div class="col-md-6 mb-3">
                            <label class="form-label">
                                <i class="fas fa-leaf"></i> {% trans "Engrais NPK (kg/ha)" %}
                            </label>
                            <input type="number" name="fertilizer_npk" class="form-control" 
                                   placeholder="250" value="0">
                            <small class="text-muted">{% trans "Optionnel - laisser 0 si non utilisé" %}</small>
                        </div>
                        
                        <div class="col-md-6 mb-3">
                            <label class="form-label">
                                <i class="fas fa-tint"></i> {% trans "Irrigation" %}
                            </label>
                            <div class="form-check form-switch mt-2">
                                <input class="form-check-input" type="checkbox" name="irrigation" 
                                       id="irrigationCheck" value="true">
                                <label class="form-check-label" for="irrigationCheck">
                                    {% trans "Irrigation disponible" %}
                                </label>
                            </div>
                        </div>
                    </div>
                    
                    <button type="submit" class="btn btn-success btn-lg w-100">
                        <i class="fas fa-calculator"></i> {% trans "Calculer le rendement" %}
                    </button>
                </form>
            </div>
        </div>
        
        <div class="card mt-4">
            <div class="card-body">
                <h5 class="text-muted">
                    <i class="fas fa-info-circle"></i> {% trans "Comment ça marche?" %}
                </h5>
                <p class="text-muted mb-0">
                    {% trans "Notre modèle d'IA analyse vos données pour estimer le rendement de votre culture. Les prévisions sont basées sur plus d'1 million d'observations agricoles réelles." %}
                </p>
            </div>
        </div>
    </div>
</div>
{% endblock %}